<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ENEKA – Leggings</title>
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

<header class="header">
  <button class="icon-btn" onclick="history.back()" aria-label="Volver">←</button>
  <a class="logo" href="index.html" style="margin-left:8px">ENEKA</a>
</header>

<main class="main">

<nav class="breadcrumb">
  <a href="index.html">Inicio</a>
  <span class="sep">›</span>
  <span>Leggings</span>
</nav>

<h1 class="page-title">Leggings Acampanados</h1>
<p class="subhead">Explora opciones para ella.</p>

<!-- ===== BLOQUE 1 ===== -->
<section class="product-layout" data-product="1">

  <div>
    <div class="lifestyle-images">
      <img src="img/leg.negro.jpg">
      <img src="img/leg2.jpg">
      <img src="img/leg3.jpg">
    </div>

    <div class="gallery-wrapper">
      <div class="thumbs">
        <img src="img/leg.azulacero.jpg" class="active">
        <img src="img/leg.marron.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
        <img src="img/leg.azulnoche.jpg">
      </div>

      <div class="main-image">
        <button class="arrow left">‹</button>
        <img src="img/leg.azulacero.jpg" data-main>
        <button class="arrow right">›</button>
      </div>
    </div>
  </div>

  <div class="product-info">
    <h4 class="product-name">Legging Deportivo</h4>
    <p class="product-desc">
      Tela elasticada, cintura alta, ideal para gym y uso diario.
    </p>
    <span class="product-price">S/ 60.00</span>
    <button class="buy-btn">Comprar</button>
  </div>

</section>

<hr>

<!-- ===== BLOQUE 2 ===== -->
<h1 class="page-title" style="margin-top:40px;">Leggings</h1>

<section class="product-layout" data-product="2">

  <div>
    <div class="lifestyle-images">
      <img src="img/leg1.jpg">
      <img src="img/leg2.jpg">
      <img src="img/leg3.jpg">
    </div>
  </div>

  <div class="product-info">
    <h4 class="product-name">Legging Deportivo Premium</h4>
    <p class="product-desc">
      Máxima compresión, alta durabilidad y ajuste perfecto.
    </p>
    <span class="product-price">S/ 32.00</span>
    <button class="buy-btn" onclick="comprarDesdeBloque(this)">
  Comprar
</button>


  </div>

</section>

</main>

  <div class="fab-container">

  <a class="fab whatsapp"
     href="https://wa.me/51927208885?text=Hola!%20%E2%99%A5%20Vengo%20desde%20su%20p%C3%A1gina%20web%20y%20estoy%20interesada%20en%20adquirir%20un%20producto.%0AQuisiera%20m%C3%A1s%20informaci%C3%B3n,%20por%20favor.%20%E2%99%A5"
     target="_blank"
     rel="noopener">
    <img src="img/WhatsApp_icon.png" alt="WhatsApp">
  </a>

  <a class="fab instagram"
     href="https://www.instagram.com/eneka.fit/"
     target="_blank"
     rel="noopener">
    <img src="img/ig.avif" alt="Instagram">
  </a>

  <a class="fab tiktok"
     href="https://www.tiktok.com/@eneka.fit?_r=1&_t=ZS-93fpCNyZUYO"
     target="_blank"
     rel="noopener">
    <img src="img/tiktok.avif" alt="TikTok">
  </a>

</div>


<script src="js/whatsapp.js"></script>

<script>
document.querySelectorAll('[data-product]').forEach(section => {
  const mainImg = section.querySelector('[data-main]');
  const thumbs = section.querySelectorAll('.thumbs img');
  const left = section.querySelector('.arrow.left');
  const right = section.querySelector('.arrow.right');
  const price = section.querySelector('.product-price').textContent.replace('S/','').trim();
  const name = section.querySelector('.product-name').textContent;
  let index = 0;

  if (!mainImg || !thumbs.length) return;

  const images = [...thumbs].map(img => img.src);

  function update() {
    mainImg.src = images[index];
    thumbs.forEach((img,i)=>img.classList.toggle('active', i===index));
  }

  thumbs.forEach((img,i)=>{
    img.onclick = () => { index=i; update(); };
  });

  if (left) left.onclick = () => {
    index = (index - 1 + images.length) % images.length;
    update();
  };

  if (right) right.onclick = () => {
    index = (index + 1) % images.length;
    update();
  };

  const buyBtn = section.querySelector('.buy-btn');
  if (buyBtn) {
    buyBtn.onclick = () => comprar(name, price, mainImg.src);
  }
});
</script>

<script>
function comprarDesdeBloque(btn) {
  const section = btn.closest('.product-layout');

  const name = section.querySelector('.product-name').textContent;
  const price = section.querySelector('.product-price')
    .textContent.replace('S/', '').trim();

  // usa la primera imagen visible del bloque
  const img =
    section.querySelector('[data-main]') ||
    section.querySelector('.lifestyle-images img');

  comprar(name, price, img.src);
}
</script>


</body>
</html>
